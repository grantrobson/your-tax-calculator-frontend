<script>

function initSummary() {
    var renewalType = getAnswerForModelId("renewalType");
    if(renewalType == SINGLE_D1) {
        initSingleD1Summary();
    }
    else if (renewalType == SINGLE_D2) {
        initSingleD2Summary();
    }
    else if (renewalType == JOINT_D1) {
        initJointD1Summary();
    }
    else {
        initJointD2Summary();
    }
}

function initSingleD1Summary() {
    populateYourBenefitsAndIncomeSection(1, "");
    populateOtherHouseholdIncomeSection(2, "");
    populateReportedChangesSection(3, "");
    toggleControls("hide");
    show("Summary");
}

function initSingleD2Summary(){
    populateYourBenefitsAndIncomeSection(1, "_PY_1")
    populateOtherHouseholdIncomeSection(2, "_PY_1")
    populateYourBenefitsAndIncomeSection(3, "")
    populateOtherHouseholdIncomeSection(4, "")
    populateReportedChangesSection(5)
    toggleControls("hide");
    show("Summary");
}

function initJointD1Summary() {
    populateYourBenefitsAndIncomeSection(1, "");
    populateYourPartnerBenefitsAndIncomeSection(2, "");
    populateOtherHouseholdIncomeSection(3, "");
    populateReportedChangesSection(4)
    populateDeclarationSection();
    toggleControls("hide");
    show("Summary");
}

function initJointD2Summary() {
    populateYourBenefitsAndIncomeSection(1, "_PY_1");
    populateYourPartnerBenefitsAndIncomeSection(2, "_PY_1");
    populateOtherHouseholdIncomeSection(3, "_PY_1")
    populateYourBenefitsAndIncomeSection(4, "");
    populateYourPartnerBenefitsAndIncomeSection(5, "");
    populateOtherHouseholdIncomeSection(6, "")
    populateReportedChangesSection(7)
    populateDeclarationSection();
    toggleControls("hide");
    show("Summary");
}

function changeIncome(period) {
    var question = getFromId("Were you employed" + period);
    routeToQuestion(question)
}

function changeTaxableBenefits(period) {
    var question = getFromId("Did you get any taxable benefits", period);
    routeToQuestion(question)
}

function changePartnerIncome(period) {
    var question = getFromId("Was partner employed?", period);
    routeToQuestion(question)
}

function changePartnerBenefits(period) {
    var question = getFromId("Did partner get any taxable benefits?", period);
    routeToQuestion(question)
}

function changeHouseholdIncome(period) {
    var question = getFromId("Did you get any other household income", period);
    routeToQuestion(question)
}

function changeUnTaxedBenefits() {
    var question = getFromId("Did you get any untaxed benefits");
    routeToQuestion(question)
}

function changePersonalCircumstances() {
    var question = getFromId("Report any changes");
    routeToQuestion(question)
}

function routeToQuestion(question) {
    questionPos = question.id;
    var questionIndex = stack.indexOf(questionPos)
    for(var index = stack.length -1; index >= questionIndex; index--) {
        stack.pop();
    }
    toggleControls("hide");
    displayQuestion();
}

</script>