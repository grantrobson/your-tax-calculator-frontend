<script>

var              JOURNEY_COMPLETE = "JourneyComplete";
var JOURNEY_COMPLETE_AUTO_RENEWAL = "JourneyCompleteAutoRenewal";
var                  ROUTE_TO_COC = "RouteToChangeOfCircumstance";
var                SUBMIT_RENEWAL = "SubmitRenewal";
var             SAVE_AND_CONTINUE = "SaveAndContinue";
var      SAVE_AND_COME_BACK_LATER = "SaveAndComeBackLater";
var              STARTUP_JS_ERROR = "StartingJSError";
var             INTERNAL_JS_ERROR = "InternalJSError";


    function startRenewals(renewalType, hasPartner, nino, partnername) {
        map.set("partner-name", partnername);
        map.set("startDate_PY_1", "06 April 2015");
        map.set("endDate_PY_1", "05 April 2016");

        startup(renewalType, hasPartner, nino, "06 April 2016", "05 April 2017");
    }

    function startup(renewalType, hasPartner, nino, startDate, endDate) {
        // Initialise globals.
        stack = [];

        // Add all parameters to map.
        map.set("renewalType", renewalType);
        map.set("hasPartner", hasPartner);
        map.set("nino", nino);
        map.set("startDate", startDate);
        map.set("endDate", endDate);

        // Obtain start question from journey.
        var journey = data();
        questionPos = journey.startQuestion;
        // Display the first question.
        displayQuestion();
    }

    function hook(journeyOutcomeStatus) {

        var hookResponse = {
            "journeyOutcomeStatus":journeyOutcomeStatus,
            "isEstimatedIncome": isEstimatedIncome()
        };

        var response = JSON.stringify(hookResponse);
        debugOut(response, "dumpText");

        // IOS callback.
        try {
            window.webkit.messageHandlers.iosmessagehandler.postMessage(response);
        } catch(err) {}

        // Windows callback.
        try {
            window.external.notify(response);
        } catch(err) {}

        // Android callback.
        try {
            HMRCAndroid.hook(response);
        } catch(err) {}

        // Selenium callback.
        try {
            window.seleniumCallback(response);
        } catch(err) {}
    }
</script>