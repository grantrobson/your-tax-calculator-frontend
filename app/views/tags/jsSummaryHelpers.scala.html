<script>

  function buildListFromRadioAnswers(questionId) {
      var options = getQuestion(questionId).questionType.multipleChoiceOptions;

      return options.reduce(function (acc, option) {
          var answer = map.get(option.modelId);

          if (answer === "true") {
              return acc + '<h5>' + option.option + '</h5>'
          } else {
              return acc
          }
      }, "");
  }

  function buildTableFromMultipleChoiceWithNumberAnswers(questionId) {
      var options = getQuestion(questionId).questionType.multipleChoiceOptions;

      return options.reduce(function (acc, option) {
          var answer = map.get(option.modelId);

          if (typeof answer !== "undefined") {
              return acc + '<tr><td>' + option.option + '</td><td>' + Math.floor(parseFloat(answer)) + '</td></tr>'
          } else {
              return acc
          }
      }, "");
  }

  function buildTableFromListOfNumericQuestions(questions) {
      return questions.reduce(function (acc, question) {
          if (isDefined(getAnswerForQuestion(question.id))) {
              return acc + '<tr><td>' + question.label + '</td><td>' + Math.floor(parseFloat(getAnswerForQuestion(question.id))) + '</td></tr>';
          } else {
              return acc + '<tr><td>' + question.label + '</td><td>0</td></tr>';
          }
      }, '');
  }

  function sumMultipleChoiceWithNumberAnswers(questionId) {
      var options = getQuestion(questionId).questionType.multipleChoiceOptions;

      var result = options.reduce(function (acc, option) {
          var answer = map.get(option.modelId);

          if (isDefined(answer)) {
              return acc + parseFloat(answer)
          } else {
              return acc
          }
      }, 0);

      return Math.max(Math.floor(result), 0);
  }

  function sumAnswersFromListOfQuestions(questions) {
      var result =  questions.reduce(function (acc, question) {
          if (isDefined(getAnswerForQuestion(question))) {
              return acc + parseFloat(getAnswerForQuestion(question))
          } else {
              return acc
          }
      }, 0);

      return Math.max(Math.floor(result), 0);
  }

</script>